
<script type="text/javascript">
    $(function() {
        $('#percentage').keyup(function() {
            setTimeout(function() {
                var result = JSON.parse(discountCalc.validateExecuteDiscount());
                $('#discount_val').val(result.saved);
                $('#result').val(result.after);
            }, 300);
        });
        $('#of').keyup(function() {
            setTimeout(function() {
                var result = JSON.parse(discountCalc.validateExecuteDiscount());
                $('#discount_val').val(result.saved);
                $('#result').val(result.after);
            }, 300);
        });
    });
</script>   
<div role="main">
    <form action="#" id="percentage_calculator" name="discount_calculator">
        <div>
            <label for="of">Original</label>
            <p>
                <input data-rule-number="true" data-msg-number="Please enter a valid amount" type="number" name="of" value="" id="of"/>
                <button class="clear_btn" type="reset">Clear</button>
            </p>
        </div>
        <div>
            <label for="percentage">Discount (%)</label>
            <p>
                <input data-rule-number="true" data-msg-number="Please enter a valid discount %" type="number" name="percentage" value="" id="percentage"/>
                <button class="clear_btn" type="reset">Clear</button>
            </p>
        </div>
        <div>
            <label for="result">After</label>
            <p>
                <input type="text" name="result" value="" id="result" disabled readonly="readonly"/>
            </p>
        </div>
        <div>
            <label for="discount_val">You Save</label>
            <p>
                <input type="text" name="result" value="" id="discount_val" disabled readonly="readonly"/>
            </p>
        </div>
    </form>
</div>